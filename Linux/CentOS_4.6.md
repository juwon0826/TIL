## 네트워크 관련 설정과 명령어

### 네트워크 관련 필수 개념

#### TCP/IP
> - 컴퓨터끼리 네트워크상으로 의사소통을 하는 약속을 '프로토콜'이라고 부르는데, 프로토콜 중 가장 널리 사용되는 종류 중 하나다.
> - TCP(Transmission Control Protocol) : 통신의 전송/수신을 다룬다
> - IP(Internet Protocol) : 데이터 통신을 다룬다.

#### 호스트 이름과 도메인 이름
> - 호스트 이름(host name) : 각각의 컴퓨터에 지정된 이름을 말한다.
> - 도메인 이름(또는 도메인 주소) : 도메인 이름은 juwon.co.kr과 같은 형식으로 표기하며 kr은 한국, co는 회사, juwon은 단체/회사의 이름을 의미한다.
> - FQDN(Fully Qualified Domain Name) : 예를 들어 호스트 이름이 this이고, 도메인 이름이 juwon.co.kr이라면 전체 이름은 this.juwon.co.kr로 붙여서 부른다. 이를 FQDN이라고 부흔다.

#### IP 주소
> - 네트워크에 연결된 모든 컴퓨터는 고유한 IP 주소가 있으며, 이는 서로 다르기 때문에 특정 컴퓨터의 IP주소를 알면, 그 컴퓨터가 전 세계 어디에 있든지 접속할 수 있다는 개념이다.
> - 각 컴퓨터의 랜 카드는 네트워크 카드 또는 NIC(Network Interface Card)라고도 한다.
> - 4바이트로 이루어지며, 각 자리는 0~255까지의 숫자가 올 수 있다.

#### 네트워크 주소
> - 같은 네트워크에 속해 있는 공통 주소다
> - 예시 : Server의 IP주소는 192.168.111.100, Server(B)의 IP주소는 192.168.111.200 일 때, 이 두 대의 컴퓨터가 같은 네트워크에 있으며, 서브넷 마스크 C 클래스를 사용한다면, 공통된 네트워크 주소는 앞 3자리인 192.168.111.0이 된다

#### 브로드캐스트 주소
> - 내부 네트워크의 모든 컴퓨터가 수신하는 주소를 말한다.
> - 현재 주소의 제일 끝자리를 255로 바꾼 주소다.(C 클래스의 경우).

#### 게이트웨이
> - 게이트웨이(Gateway)는 내부 네트워크를 외부로 연결되는 컴퓨터 또는 장비이다.
> - 쉽게 말해 '외부 네트워크로 나가는 통로'쯤으로 생각하면된다.
> - 내부로 향하는 문(네트워크 카드)과 외부로 향하는 문(네트워크 카드)이 있어야 한다. 즉, 네트워크 카드가 두 개 장착되어 있어야 한다.
> - 게이트웨이를 별로도 추가해주는 명령어의 형식 : route add default gw 게이트웨이주소 dev 장치이름

#### 넷마스크와 클래스
> - 넷마스트(Netmask) : 네트워크의 규모를 결정한다.
> - 사설 네트워크에서 C 클래스를 사용하므로 넷마스크를 255.255.255.0으로 사용한다.
> - 192.168.111.0~192.168.111.255까지 256개의 IP 주소를 사용할 수 있지만, 그 중에서 192.168.111.0은 네트워크 주소, 192.168.111.255는 브로드캐스트 주소, 게이트웨이로 사용할 IP주소를 제외하면 총 253대의 컴퓨터를 네트워크 내부에서 연결할 수 있다.

> - B 클래스를 이용할 경우에는 넷마스크를 255.255.0.0으로 변경해 총 65536(2^16)개의 IP 주소를 사용할 수 있으며, 네트워크 주소는 192.168.0.0이 된다.
> - A 클래스로 변경하려면 255.0.0.0을 사용한다.
#### DNS 서버 주소
> - 인터넷을 사용할 때 www.daum.net과 같은 URL을 해당 컴퓨터의 IP주소로 변환해주는 서버 컴퓨터를 말한다.
> - DNS(Domian Name System) 서버의 주소를 사용하지 않거나, 잘못 입력되어 있으면 정상적으로 웹 사이트에 접속되지 않으므로 정보를 설정해야 한다.
> - 설정 파일은 /etc/resolv.conf며, 내용 중에 'nameserver DNS서버 IP'의 형식으로 설정되어 있다.

### 중요한 네트워크 관련 명령어

#### nmtui
> Network Manager Text User Interface의 약자로, 네트워크와 관련된 작업 대부분은 이 명령어를 기반으로 삼아 실행할 수 있다.
> - 자동 IP 주소 또는 고정 IP 주소 사용 결정
> - IP주소, 서브넷 마스크, 게이트웨이 정보 입력
> - DNS 정보 입력
> - 네트워크 카드 드라이버 설정
> - 네트워크 장치의 설정

#### systemctl start/stop/restart/status network
> 네트워크 설정을 변경한 후에 변경된 내용을 시스템에 적용시키는 명령어다. 그러므로 'nmtui' 명령어를 실행한 후에는 반드시 'systemctl restart network'명령어를 실행한다고 기억하자.

> 상대적으로 가볍게 시스템을 재시작한다고 알아두자.

#### ifup 장치이름
> 해당 장치를 작동시켜 주는 명령어다. 만약 네트워크 장치가 장착되었으나 작동하지 않으면 이 명령어로 네트워크 장치를 작동시킬 수 있다.

#### ifdown 장치이름
> ifup과 반대로 네트워크 장치를 끄는 명령어다.

> 위의 둘의 명령어는 상대적으로 무겁게 시스템을 재시작한다고 알아두자.

#### ifconfig 장치이름
> 해당 장치의 IP 주소와 관련된 정보를 출력해주는 명령어다.

#### nslookup
> DNS 서버의 작동을 테스트하는 명령어다.

#### ping IP주소 또는 URL
> 해당 컴퓨터가 네트워크상에서 응답하는지를 테스트하는 간편한 명령어다. 즉, 상대 컴퓨터가 아무런 이상이 없이 작동되는지를 네트워ㅋ상에서 체크할 때 주로 사용된다.
> - ctrl + c 누르면 멈춘다.

### 네크워크 설정과 관련된 주요 파일

#### /etc/sysconfig/network
> 네트워크의 기본 정보가 설정되어 있는 파일로 네트워크 사용 여부가 써 있다.

#### /etc/sysconfig/network-scripts/ifcfg-ens32(또는 ifcfg-ens33)
> ens32 장치에 설정된 네트워크 정보가 모두 들어 있는 파일이다.

#### /etc/resolv.conf
> DNS 서버의 정보와 호스트 이름이 들어 있는 파일이다.

#### /etc/hosts
> 현 컴퓨터의 호스트 이름과 FQDN이 들어 있는 파일이다.

#### 'nmtui'명령어를 사용하지 않아도, 위 4개의 파일을 직접 편집하면 동일한 효과를 낼 수 있다.
