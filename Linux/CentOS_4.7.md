## 파이프, 필터, 리다이렉션

### 파이프
> 파이프(pipe)는 2개의 프로그램을 연결해주는 연결 통로를 의미한다.
> '|' 를 사용한다.

#### 사용 예
> - ls -l /etc | more	: 'ls -l /etc'를 입력하면 파일이 너무 많아서, 1페이지에 모두 담을 수 없으므로 1 페이지씩 나눠서 보겠다는 의미다.

### 필터
> 필터(filter)는 필요한 것만 걸러주는 명령어다.
> 'grep', 'tail', 'wc', 'sort', 'awk', 'sed'와 같은 명령어가 있다

#### 사용 예
> - ps -ef | grep bash	: 'ps -ef'를 입력하면 모든 프로세스 번호를 출력하므로, bash라는 글자가 들어간 프로세스만 출력하게 한다.
> - rpm -qa | grep yum	: 설치된 패키지 중에서 'yum'이라는 글자가 들어간 패키지를 출력한다.

### 리다이렉션
> 리다이렉션(redirection)은 표준 입출력의 방향을 바꿔준다.
> 표준 입력은 키보드, 표준 출력은 모니터이지만 이를 파일로 처리하고 싶을 때 주로 사용한다.

#### 사용 예
> - ls -l > list.txt	: 'ls -l'의 결과를 화면에 출력하지 말고, list.txt 파일에 저장한다. 만약, list.txt 파일이 기존에 있으면 덮어쓴다.
> - ls -l >> list.txt	: 위와 같다. 단, list.txt 파일이 기존에 있으면 기존의 내용에 이어서 쓴다.
> - sort < list.txt	: list.txt 파일을 정렬해서 화면에 출력한다.
> - sort < list.txt > out.txt	: ㅣlist.txt 파일을 정렬해서 out.txt 파일에 쓴다.

## 프로세스, 데몬, 서비스

### 프로세스(Process)
> 하드디스크에 저장된 실행 코드(프로그램)가, 메모리에 로딩되어 활성화된 것
#### 포그라운드 프로세스(Foreground Process)
> 실행하면 화면에 나타나서 사용자와 상호작용을 하는 프로세스를 말한다.-> 화면에 실행되는 것이 보이는 프로세스라고 생각하면 된다.

#### 백그라운드 프로세스(Background Process)
> 화면에는 나타나지 않고 뒤에서 실행되는 프로세스를 말한다. 예를 들어 바이러스 백신, 서버 데몬과 같이 눈에는 보이지 않지만 실행되는 프로세스를 말하낟.

#### 프로세스 번호
> 메모리에 로딩되어 활성화된 프로세스를 구분하려면 각각의 고유 번호가 필요하다. 이렇게 각각의 프로세스에 할당된 고유 번호를 프로세스 번호라 부른다.

#### 작업 번호
> 현재 실행되는 백그라운드 프로세스의 순차 번호를 의미한다.

#### 부모 프로세스와 자식 프로세스
> 모든 프로세스는 혼자서 독립적으로 실행되는 것이 아니라, 부모 프로세스의 하위에 종속되어 실행한다.
> 'ps -ef | grep' 명령어르 사용했을 때 나오는 'root 9256 2522 ~~'에서 root눈 프로세스의 소유주이며, 그다음 9256은 프로세스 번호이고 그 다음 2522는 부모 프로세스 번호다.

#### 프로세스와 관련된 주요 명령어

##### ps
> 현재 프로세스의 상태를 확인하는 명령어다
> - 사용 예 : ps -ef | grep 프로세스이름 -> 프로세스의 번호 및 상태를 확인할 때 사용한다.

##### kill
> 프로세스를 강제로 종료하는 명령어다.
> '-9' 옵션과 함께 사용하면 무조건 프로세스가 종료 된다.

##### pstree
> 부모 프로세스와 자식 프로세스의 관계를 트리 형태로 보여준다.

##### 프로세스 사용 예
> - 'yes > /dev/null'을 입력해 포그라운드 프로세스를 생성한다.
> - Ctrl + z 를 눌러 프로세스를 일시 중지시키고, 'bg' 명령어를 입력해서 잠시 중지된 프로세스를 백그라운드 프로세스로 계속 실행시킨다.
> - 'jobs' 명령어를 입력하면 현재 백그라운드로 가동 중인 프로세스를 확인할 수 있다. 제일 앞에 나오는 것이 '작업번호'다.
> - 'fg 작업번호'를 입력하면 다시 포그라운드 프로세스로 만들 수 있다.
> - Ctrl + c 를 누르면 프로세스가 종료된다.
> - 명령어 뒤에 '&'를 입력하면 백그라운드로 프로세스를 실행하겠다는 의미다.

## 서비스와 소켓
> 서비스는 평상시에도 늘 가동하는 서버 프로세스며, 소켓은 필요할 때만 작동하는 서버 프로세스를 말한다.
> 서비스와 소켓은 'systemd'라고 부르는 서비스 매니저 프로그램으로 작동시키거나 관리한다.

### 서비스의 특징
> - 시스템과 독자적으로 구동되어 제공하는 프로세스를 말한다. 예를 들어 웺 서버(httpd), DB 서버(mysql), FTP 서버(vsftpd) 등이 있다.
> - 실행 및 종료는 대개 'systemctl start/stop/restart 서비스이름'으로 사용된다.
> - 부팅과 동시에 서비스의 자동 실행 여부를 지정할 수 있는데, 터미널에서 'systemctl list-unit-files'을 실행하면 현재 사용과 사용 안 함을 확인할 수 있다.
> - 서비스의 실행 스크립트 파일은 /usr/lib/systemd/system 디렉터리에 '서비스이름.service'라는 이름으로 확인할 수 있다.

### 소켓의 특징
> - 서비스는 항상 가동되지만, 소켓은 외부에서 특정 서비스를 요청할 경우에 systemd가 구동시킨다.
> - 그래서 소켓으로 설정된 서비스를 요청할 때는 처음 연결되는 시간이 앞에서 설명한 서비스에 비교했을 때 약간 더 걸릴 수 있다. 왜냐하면 systemd가 서비스를 새로 구동하는 데 시간이 소요되기 때문이다.
> - 소켓과 관련된 스크립트 파일은 /usr/lib/systemd/system/ 디렉터리에 '소켓이름.socket'이라는 이름으로 존재한다.
